<div class="row">
  <div class="col-md-6 mx-auto">
    <h3 class="text-center display-4 my-4">Cloudinary File Uploads</h3>
    <form action="/uploads" method="POST" enctype="multipart/form-data">
      <div class="input mb-3">
        <input class="form-control" type="text" name="title" id="title" placeholder="Name">
      </div>
      <div class="custom-file mb-3">
        <input type="file" name="image" id="image" class="custom-file-input" value="fileupload">
        <label for="file" class="custom-file-label">Choose File</label>
      </div>
      <input type="submit" value="Submit" class="btn btn-primary btn-block">
      <input value="Upload with Cloudinary Widget" id="upload_widget_opener" class="btn btn-primary btn-block">
    </form>
    <hr>
  </div>
</div>
</div>
<script src="//widget.cloudinary.com/global/all.js" type="text/javascript"></script>
<script>
  document.getElementById("upload_widget_opener").addEventListener("click", function () {

    cloudinary.openUploadWidget({ cloud_name: 'hackit-africa', upload_preset: 'vks7squm' },
      function (error, result) {
        console.log(error, result)
        // Push URL into text input
        document.getElementById('url_text').value = result[0].url;
      });

  }, false);
</script>